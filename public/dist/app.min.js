angular.module("msportApp",["emissionCtrl","emTypesCtrl","defaultEmissionsCtrl","settingsService"]),angular.module("emissionCtrl",["emissionService"]).controller("emissionController",["Emisiuni",function(e){var t;t=this,e.all().success(function(e){t.emisiuni=e.emissions,t.emCount=e.emissions.length}),e.types().success(function(e){t.emTypes=e}),t.fullTitle=function(){return t.emType&&t.emName?t.emType.toUpperCase()+": "+t.emName:void 0}}]),angular.module("emTypesCtrl",["settingsService","settingRoutes"]).controller("defaultEmissionsCtrl",["Settings",function(e){var t;t=this,e.defaultEmissions().success(function(e){t.defEmissionsTitle="Modele de emisiuni",t.types=e})}]),angular.module("emissionService",[]).factory("Emisiuni",["$http",function(e){var t;return t={},t.all=function(){return e.get("/emisiuni/all")},t.types=function(){return e.get("/emisiuni/emtypes")},t}]),angular.module("settingsService",[]).factory("Settings",["$http",function(e){var t;return t={},t.emTypes=function(){return e.get("/settings/json/types")},t.defaultEmissions=function(){return e.get("/settings/json/defaults")},t.getDefaultForEdit=function(t){return e.get("/settings/json/defaults/edit/"+t)},t}]),angular.module("defaultEmissionsCtrl",[]).controller("defaultEmissionsController",["Settings",function(e){var t,s,i;i=this,i.days=["Luni","Marți","Miercuri","Joi","Vineri","Sâmbătă","Duminică"],i.Set_em_id=function(t){return e.getDefaultForEdit(t).success(function(e){return i.updateEmission=e[0]})},e.emTypes().success(function(e){i.types=e}),e.defaultEmissions().success(function(e){var n,u,r,o,l,a,m,c,f;for(i.tableTitle="Modele de emisiuni",u=o=0,a=e.length;a>o;u=++o)for(c=e[u],e[u].defaultLength=s(c.defaultLength),f=c.defaultTime,r=l=0,m=f.length;m>l;r=++l)n=f[r],0!==n.days.length&&(e[u].defaultTime[r].daysStr=t(n.days));i.tableRows=e}),t=function(e){var t,s,n,u;for(s=i.days[e[0]-1],e.splice(0,1),n=0,u=e.length;u>n;n++)t=e[n],s+=", "+i.days[t-1];return s},s=function(e){var t,s;return t="",s=Math.floor(e/60),s>1&&(t+=s+" ore "),1===s&&(t+=s+" oră "),e%=60,0!==e&&(10>e&&(t+="0"),t+=e+" min"),t}}]),angular.module("emTypesCtrl",[]).controller("emTypesController",["Settings",function(e){var t;t=this,e.emTypes().success(function(e){t.tableTitle="Genuri emisiuni",t.tableRows=e})}]);