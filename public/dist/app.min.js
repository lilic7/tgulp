angular.module("msportApp",["emissionCtrl","emTypesCtrl","defaultEmissionsCtrl","settingsService"]),angular.module("emissionCtrl",["emissionService"]).controller("emissionController",["Emisiuni",function(e){var i;i=this,e.all().success(function(e){i.emisiuni=e.emissions,i.emCount=e.emissions.length}),e.types().success(function(e){i.emTypes=e}),i.fullTitle=function(){return i.emType&&i.emName?i.emType.toUpperCase()+": "+i.emName:void 0}}]),angular.module("emTypesCtrl",["settingsService","settingRoutes"]).controller("defaultEmissionsCtrl",["Settings",function(e){var i;i=this,e.defaultEmissions().success(function(e){i.defEmissionsTitle="Modele de emisiuni",i.types=e})}]),angular.module("emissionService",[]).factory("Emisiuni",["$http",function(e){var i;return i={},i.all=function(){return e.get("/emisiuni/all")},i.types=function(){return e.get("/emisiuni/emtypes")},i}]),angular.module("settingsService",[]).factory("Settings",["$http",function(e){var i;return i={},i.emTypes=function(){return e.get("/settings/emisiuni/types")},i.defaultEmissions=function(){return e.get("/settings/emisiuni/defaults/view")},i}]),angular.module("defaultEmissionsCtrl",[]).controller("defaultEmissionsController",["Settings",function(e){var i,t,s;s=this,s.days=["Luni","Marți","Miercuri","Joi","Vineri","Sâmbătă","Duminică"],e.defaultEmissions().success(function(e){var n,r,u,l,o,a,m,c,f;for(s.tableTitle="Modele de emisiuni",r=l=0,a=e.length;a>l;r=++l)for(c=e[r],e[r].defaultLength=t(c.defaultLength),f=c.defaultTime,u=o=0,m=f.length;m>o;u=++o)n=f[u],0!==n.days.length&&(e[r].defaultTime[u].daysStr=i(n.days));s.tableRows=e}),i=function(e){var i,t,n,r;for(t=s.days[e[0]-1],e.splice(0,1),n=0,r=e.length;r>n;n++)i=e[n],t+=", "+s.days[i-1];return t},t=function(e){var i,t;return i="",t=Math.floor(e/60),t>1&&(i+=t+" ore "),1===t&&(i+=t+" oră "),e%=60,0!==e&&(10>e&&(i+="0"),i+=e+" min"),i}}]),angular.module("emTypesCtrl",[]).controller("emTypesController",["Settings",function(e){var i;i=this,e.emTypes().success(function(e){i.tableTitle="Genuri emisiuni",i.tableRows=e})}]);